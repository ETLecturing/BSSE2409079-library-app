<section class="booking-page">
    <h1>Codex Library</h1>

    @if(book) {
        <div class="detail-card">
            <img [src]="book.imgUrl">

            <button class="back-button" (click)="goBack()">Back</button>

            <div class="details">
                <h2>{{book.title}}</h2>

                <table>
                    <tr>
                        <th>Author</th>
                        <th>: {{book.author}}</th>
                    </tr>
                    <tr>
                        <td>Publisher</td>
                        <td>: {{book.publisher}}</td>
                    </tr>
                    <tr>
                        <td>Year Published</td>
                        <td>: {{book.year}}</td>
                    </tr>
                    <tr>
                        <td>Genre</td>
                        <td>: {{book.genre}}</td>
                    </tr>
                    <tr>
                        <td>Language</td>
                        <td>: {{book.language}}</td>
                    </tr>
                    <tr>
                        <td>Status</td>
                        <td>: {{book.status}}</td>
                    </tr>
                </table>

                <button class="reserve-btn" type="button" (click)="reserveBook()">Reserve</button>

                <form class="borrow-form" [formGroup]="borrowForm" (submit)="borrowBook($event)">
                    <label for="period">Borrow Period</label>

                    <select name="period" id="period" formControlName="period" required>
                        <option value=7>1 week</option>
                        <option value=14>2 weeks</option>
                        <option value=21>3 weeks</option>
                        <option value=30>1 month</option>
                    </select>

                    <button [disabled]="!borrowForm.valid">Borrow</button>
                </form>
            </div>
        </div>
    } @else {
        <h1>Loading...</h1>
    }

</section>